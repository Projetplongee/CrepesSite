// Défilement doux
document.querySelectorAll('.nav-link').forEach(link => {
  link.addEventListener('click', function (e) {
    e.preventDefault();
    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
  });
});

// Gestion des commandes
const orderForm = document.getElementById('order-form');
const ordersTable = document.querySelector('#orders-table tbody');
const confirmationMessage = document.getElementById('confirmation-message');
const adminSection = document.getElementById('admin');

// Validation formulaire
orderForm.addEventListener('submit', function (e) {
  e.preventDefault();
  const nom = document.getElementById('nom').value;
  const prenom = document.getElementById('prenom').value;
  const commande = document.getElementById('commande').value;
  const quantite = parseInt(document.getElementById('quantite').value);
  const paiement = document.getElementById('mode-paiement').value;

  // Calcul du total
  const prix = commande === 'choco-banane' ? 2.5 : commande === 'sucre-citron' ? 2.0 : 3.5;
  const total = (prix * quantite).toFixed(2);

  // Ajouter la commande dans le tableau
  const row = document.createElement('tr');
  row.innerHTML = `<td>${nom}</td><td>${prenom}</td><td>${commande}</td><td>${quantite}</td><td>${total}</td><td>${paiement}</td>`;
  ordersTable.appendChild(row);

  // Sauvegarde locale
  const commandes = JSON.parse(localStorage.getItem('commandes') || '[]');
  commandes.push({ nom, prenom, commande, quantite, total, paiement });
  localStorage.setItem('commandes', JSON.stringify(commandes));

  // Confirmation
  confirmationMessage.classList.remove('hidden');
  setTimeout(() => confirmationMessage.classList.add('hidden'), 3000);

  // Réinitialiser le formulaire
  orderForm.reset();
});

// Admin accès (mot de passe simplifié)
document.addEventListener('keydown', function (e) {
  if (e.key === 'a') {
    const password = prompt('Entrez le mot de passe admin :');
    if (password === 'admin123') {
      adminSection.classList.remove('hidden');
    }
  }
});
